<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />

<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" />
<link rel="newest stylesheet" href="https://ruizray.github.io/bs4test.css" />
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<link href="https://fonts.googleapis.com/css?family=Archivo+Black|Judson:400,700" rel="stylesheet" />



<div id="content" class="container">
    <div class="row">

        <div id="leftSidebar" class="col-lg-3">
            <div class="card-container">
                <div id="responsiveLink" class="card">
                    <div id="thisPage" class="btn-group-vertical">
                        <h3 class="card-header">On This Page</h3> 

                    </div>
                </div>
            </div>
        </div>




        <div id="mainPage" class="col-md-6">
            <div class="section">
                <h1 id="About" class="sectionHead">
                    About Project
                </h1>

                <p>The Illinois Department of Transportation (Department) let two projects to reconstruct the interchange of Interstate 55 (I-55) at
                    Weber Road, and Weber Road from Romeo Road (135th Street) to Rodeo Drive (119th Street) in Will County in March, 2018. The
                    interchange of I-55 @ Weber Road and Weber Road need to be updated to respond to the increased travel demands due to development
                    and growth has placed on the surrounding area. The project is located within the municipalities of Bolingbrook and Romeoville in
                    Will County. Upon completion, the project will provide a number of improvements for the roadway users, as it will: increase
                    roadway and intersection capacity, correct geometric deficiencies, providing a new bridge structure in conjunction of
                    rehabilitating the existing bridge structure, and ultimately improve safety and mobility.

                </p>

                <div class="CTA">

                    More information about the project here

                    <a href="https://idot.illinois.gov/projects/i55-at-weber-road"><button class='btn btn-primary CTAbutton' type='button'>IDOT
                            Project Website</button></a>
                </div>
                <p>If you have any further questions, please feel free to call Engineering with the Public Services Department at 630-226-8850.</p>


            </div>

            <div class="section">
                <h1 id="media" class="sectionHead">
                    Media
                </h1>
                <div style="text-align:center">
                    <iframe width="560" height="315" src="https://www.youtube.com/embed/8Pxv0vbdt-o" frameborder="0"
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </div>
            </div>
        </div>



        <div id="rightSidebar" class="col-lg-3">
            <div class="card-container">
                <div class="card">
                    <h3 class="card-header">Contact Information</h3>

                    <ul id="contactList" class="list-group list-group-flush">
                        <li id="contactInfo" class="list-group-item">
                            <h4 id="title" class="card-title">Public Services</h4>
                            <a id="smallLink"
                               href="tel:(630)226-8850" class="card-link">Phone
                            </a>

                    </ul>
                </div>
                

            </div>
        </div>

    </div>

    <script>

        window.onload = function () {
            displayOnThisPage();
            populateOnThisPage();
            desktopContactinfo();
        }

        function desktopContactinfo() {
            var list = document.querySelectorAll("#smallLink");

            if ($(window).width() >= 900) {
                for (var i = 0; i < list.length; i++) {
                    console.log(list[i].href)
                    var str = list[i].href;
                    str = str.split(":").pop();
                    list[i].innerText = str
                }

            }
        }

        function populateOnThisPage() {
            var items = document.querySelector("#mainPage").querySelectorAll("h1");

            for (var i = 0; i < items.length; ++i) {
                var id = items[i].getAttribute("id");
                var text = items[i].innerText;
                var button = $(
                    "<button type='button' class='btn btn-outline-primary'></button>"
                ).text(text);
                var a = $("<a href= #" + id + "></a>");
                a.append(button);

                $("#thisPage").append(a);
            }
        }

        function displayOnThisPage() {
            if ($("#content").height() > $(window).height()) {
                document.querySelector("#responsiveLink").setAttribute("style", "display:contents");
            }
        }
    </script>

    <style>
        #itemImage {
            width: 100%;
        }

        .image.left {
            display: none;
        }
    </style>